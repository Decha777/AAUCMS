{% extends 'base.html' %} {% block content %}
<div class="flex flex-col items-center w-full">
    <h1 class=" capitalize text-2xl font-semibold m-6">Report page</h1>
    <div class="flex">
        <a href="/" class="btn bg-gray-500">Browse by
            Colleges</a>
        &nbsp;
        <a href="/activity_report" class="btn">Browse by
            Activities</a><br />
    </div>
    {% if colleges %}
    <span class="text-lg font-medium shadow-lg">Select college</span>
    <select id="selectCollege" class="bg-primary-100 rounded-lg h-8 w-1/3">
        <option class=" rounded-lg" value="0">All</option>
        {% for college in colleges %}
        <option class=" rounded-lg" value="{{college.id}}">{{college.college_name}}</option>
        {% endfor %}
    </select>
    {% endif %}
    <br />
    <br />
    <script>
        $("#selectCollege").click(function () {
            var college = $("#selectCollege").val();

            location.href = "" + college;
        });
    </script>
    <h1 class="text-lg font-semibold capitalize m-2">College :{{college_name}}</h1>
    <style>
        .div_body {
            display: none;
        }
    </style>
    <div class="bg-primary-200 flex flex-col w-1/2 p-4 ">

        {% for task in tasks_list %}

        <div class="bycollege-cotainer flex flex-row justify-between cursor-pointer shadow-md bg-gray-400  align-middle rounded-lg leading-tight h-12"
            onclick="show({{task.activity_id}})">

            <h1 class="bycollege-title uppercase  self-center  w-full inline transition duration-1000 ease-in-out">
                Activity#{{task.id}}: {{task.activity}} </h1>



            <svg class="w-10 h-10 font-bold pt-3  " fill="none" stroke="currentColor" viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
        </div>

        <div class="div_body   " id="content{{task.activity_id}}">
            <h2 class="bycollege-title">College: {{task.college}}</h2>
            <div class="bycollege-cotainer">
                {% if task.problem %}
                <h2 class="bycollege-title">Problem encountered</h2>
                <div class="bycollege-content self-center">
                    <p>{{task.problem}}</p>
                </div>
                {% endif %}
            </div>


            <div class="bycollege-cotainer">
                {% if task.decision %}
                <h2 class="bycollege-title">Decisions taken</h2>
                <div class="bycollege-content self-center">
                    <p>{{task.decision}}</p>
                </div>
                {% endif %}
            </div>


            <div class="bycollege-cotainer">
                <h2 class="bycollege-title">Responsible Person</h2>
                <div class="flex flex-col w-2/3 align-middle  self-center ">
                    {% if task.responsible_person.username %}
                    <div class="flex justify-between ">

                        <h2 class="bycollege-title  ">name</h2>
                        <div class="bycollege-content  ">
                            <p>{{task.responsible_person.username}}</p>
                        </div>
                    </div>
                    {% endif %}

                    {% if task.responsible_person.phone%}
                    <div class="flex justify-between">
                        <h2 class="bycollege-title ">Mobile</h2>
                        <div class="bycollege-content ">
                            <p>{{task.responsible_person.phone}}</p>
                        </div>
                    </div>
                    {% endif %}

                </div>
            </div>
        </div>

        <br />
        {% endfor %}
    </div>
    <script>
        function show(id) {

            if (document.getElementById("content" + id).style.display == 'block') {
                document.getElementById("content" + id).style.display = 'none'
            }
            else {
                document.getElementById("content" + id).style.display = 'block'
            }
        }
    </script>

    <div class="pagination my-8">
        <span class="step-links">
            {% if tasks_list.has_previous %}
            <a href="?page=1" class="btn bg-gray-200">&laquo; first</a>
            <a href="?page={{ tasks_list.previous_page_number }}" class="btn bg-gray-200">previous</a>
            {% endif %}

            <span class="current mylabel">
                Page {{ tasks_list.number }} of {{ tasks_list.paginator.num_pages }}.
            </span>

            {% if tasks_list.has_next %}
            <a href="?page={{ tasks_list.next_page_number }}" class="btn bg-gray-200">next</a>
            <a href="?page={{ tasks_list.paginator.num_pages }}" class="btn bg-gray-200">last &raquo;</a>
            {% endif %}
        </span>
    </div>
</div>
{% endblock content %}